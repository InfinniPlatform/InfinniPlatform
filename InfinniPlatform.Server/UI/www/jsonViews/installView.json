{
    "$schema": "https://raw.githubusercontent.com/InfinniPlatform/InfinniUI-schema/master/View/View.json",
    "Parameters": [{
        "Name": "AgentAddress"
    }, {
        "Name": "AgentPort"
    }],
    "DataSources": [],
    "Text": "Install new app",
    "Items": [{
        "TextBox": {
            "Name": "NameTextBox",
            "LabelText": "App name"
        }
    }, {
        "TextBox": {
            "Name": "VersionTextBox",
            "LabelText": "App version"
        }
    }, {
        "TextBox": {
            "Name": "InstanceNameTextBox",
            "LabelText": "Instance name"
        }
    }, {
        "TextBox": {
            "Name": "SourcesTextBox",
            "LabelText": "Sources"
        }
    }, {
        "CheckBox": {
            "Name": "PrereleaseCheckBox",
            "Text": "Allow prerelease"
        }
    }, {
        "Button": {
            "Text": "Install",
            "Action": {
                "ServerAction": {
                    "Origin": "http://localhost:9901",
                    "Path": "/server/install?Address=<%agentAddress%>&Port=<%agentPort%>",
                    "Method": "POST",
                    "Data": {
                        "AppName": "<%name%>",
                        "Version": "<%version%>",
                        "Instance": "<%instanceName%>",
                        "Source": "<%source%>",
                        "AllowPrerelease": "<%allowPrerelease%>"
                    },
                    "Params": {
                        "agentAddress": {
                            "Source": "AgentAddress"
                        },
                        "agentPort": {
                            "Source": "AgentPort"
                        },
                        "name": {
                            "Source": "NameTextBox",
                            "Property": "value"
                        },
                        "version": {
                            "Source": "VersionTextBox",
                            "Property": "value"
                        },
                        "instanceName": {
                            "Source": "InstanceNameTextBox",
                            "Property": "value"
                        },
                        "source": {
                            "Source": "SourcesTextBox",
                            "Property": "value"
                        },
                        "allowPrerelease": {
                            "Source": "PrereleaseCheckBox",
                            "Property": "value"
                        }
                    },
                    "OnSuccess": "{ ShowInstallationLog(context, args); }"
                }
            }
        }
    }, {
        "TextBox": {
            "Name": "InstallLogTextBox",
            "Visible": false,
            "Multiline": true,
            "LineCount": 10
        }
    }]
}