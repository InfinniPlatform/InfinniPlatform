{
    "$schema": "https://raw.githubusercontent.com/InfinniPlatform/InfinniUI-schema/master/View/View.json",
    "OnLoaded": "{ RegisterOnSavedHandler(context, args); }",
    "Parameters": [{
        "Name": "AgentAddress"
    }, {
        "Name": "AgentPort"
    }],
    "DataSources": [{
        "RestDataSource": {
            "Name": "AppsDataSource",
            "SettingParams": {
                "Method": "POST",
                "Path": "/server/install?Address=<%agentAddress%>&Port=<%agentPort%>",
                "Data": {},
                "Params": {
                    "agentAddress": {
                        "Source": "AgentAddress"
                    },
                    "agentPort": {
                        "Source": "AgentPort"
                    }
                }
            }
        }
    }],
    "Text": "Install new app",
    "Items": [{
        "TextBox": {
            "LabelText": "App name",
            "Value": {
                "Source": "AppsDataSource",
                "Property": "$.AppName"
            }
        }
    }, {
        "TextBox": {
            "LabelText": "App version",
            "Value": {
                "Source": "AppsDataSource",
                "Property": "$.Version"
            }
        }
    }, {
        "TextBox": {
            "LabelText": "Instance name",
            "Value": {
                "Source": "AppsDataSource",
                "Property": "$.Instance"
            }
        }
    }, {
        "TextBox": {
            "LabelText": "Sources",
            "Value": {
                "Source": "AppsDataSource",
                "Property": "$.Source"
            }
        }
    }, {
        "CheckBox": {
            "Text": "Allow prerelease",
            "Value": {
                "Source": "AppsDataSource",
                "Property": "$.AllowPrerelease"
            }
        }
    }, {
        "TextBox": {
            "Name": "InstallLogTextBox",
            "Visible": false,
            "Multiline": true,
            "LineCount": 10
        }
    }, {
        "StackPanel": {
            "Items": [{
                "Button": {
                    "Name": "InstallButton",
                    "Text": "Install",
                    "Action": {
                        "SaveAction": {
                            "DestinationValue": {
                                "Source": "AppsDataSource"
                            },
                            "CanClose": false
                        }
                    },
                    "OnClick": "{ SetButtonsAppearance(context, args); }"
                }
            }, {
                "Button": {
                    "Name": "CloseButton",
                    "Visible": false,
                    "Text": "Done",
                    "Action": {
                        "AcceptAction": {}
                    }
                }
            }]
        }
    }]
}